<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Nai Ten Kai - Timeline Gallery | Interactive Art Exhibition Documentation</title>
  <meta name="description" content="Explore the timeline of Nai Ten Kai exhibition at Ichida Residence. View the evolution of spaces and artistic interventions in this historic Tokyo venue.">
  <meta name="keywords" content="art timeline, exhibition documentation, Nai Ten Kai, Tokyo art, Ichida Residence, contemporary art, cultural heritage">
  <meta name="author" content="Tokyo University of the Arts - Global Art Practice (GAP)">
  
  <!-- Open Graph / Facebook -->
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://nai-ken-ten-kai.github.io/nai-ten-kai.html">
  <meta property="og:title" content="Nai Ten Kai - Timeline Gallery">
  <meta property="og:description" content="Explore the timeline of the interactive art exhibition at Ichida Residence, Tokyo.">
  <meta property="og:image" content="https://nai-ken-ten-kai.github.io/poster/GAPbannerfinal.png">
  
  <!-- Twitter -->
  <meta property="twitter:card" content="summary_large_image">
  <meta property="twitter:url" content="https://nai-ken-ten-kai.github.io/nai-ten-kai.html">
  <meta property="twitter:title" content="Nai Ten Kai - Timeline Gallery">
  <meta property="twitter:description" content="Explore the timeline of the interactive art exhibition at Ichida Residence, Tokyo.">
  <meta property="twitter:image" content="https://nai-ken-ten-kai.github.io/poster/GAPbannerfinal.png">
  
  <!-- Canonical URL -->
  <link rel="canonical" href="https://nai-ken-ten-kai.github.io/nai-ten-kai.html">
  
  <!-- Favicon -->
  <link rel="icon" type="image/x-icon" href="logo/favicon.ico">
  <link rel="apple-touch-icon" sizes="180x180" href="logo/favicon.ico">
  
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="spaces.css">
  <link rel="stylesheet" href="timeline-gallery.css">
</head>
<body data-page-title-ja="内天界">
  <div id="timeline-app">
    <header class="spaces-header sticky">
      <div class="header-main">
        <div class="header-left">
          <div class="overlap-wrap" data-target="index.html" style="cursor: pointer;">
            <div class="logo-container">
              <img src="logo/nai_ten_kai.svg" alt="Nai Ten Kai" class="logo-svg logo-primary" />
              <img src="logo/nai_ken_kai.svg" alt="Nai Ken Kai" class="logo-svg logo-secondary" />
            </div>
          </div>
          <div class="lang-switcher">
            <button id="lang-en" class="lang-btn" aria-label="Switch to English">EN</button>
            <span class="lang-separator">/</span>
            <button id="lang-ja" class="lang-btn" aria-label="日本語に切り替え">日本語</button>
          </div>
        </div>
        <a href="#about" data-i18n="about" class="about">ⓘ</a>
      </div>
    </header>
    <div id="timeline-gallery"></div>
  </div>

  <!-- About Modal -->
  <div id="about-modal" class="modal" style="display:none;">
    <div class="modal-content about-modal-content">
      <span class="close" id="about-modal-close">&times;</span>
      <div class="about-modal-info" id="about-modal-info"></div>
    </div>
  </div>

  <script>
    // Logo character flip functionality with persistent click behavior
    function initLogoFlip() {
      const logoContainer = document.querySelector('.logo-container');
      const wrapper = document.querySelector('.overlap-wrap');
      const autoFlipInterval = 15000; // 15 seconds
  const flipDuration = 350; // ms matches CSS
  const holdBeforeRevert = 0; // no hold

      function tempFlip() {
        if (logoContainer.classList.contains('logo-flip')) return;
        logoContainer.classList.add('logo-flip');
        setTimeout(() => logoContainer.classList.remove('logo-flip'), flipDuration);
      }

      function persistentFlipAndNavigate(target) {
  logoContainer.classList.add('logo-flip');
  setTimeout(() => { window.location.href = target; }, flipDuration);
      }      // Auto-flip periodically
      const autoTimer = setInterval(() => {
        if (!logoContainer.classList.contains('logo-flip')) {
          tempFlip();
        }
      }, autoFlipInterval);

      // Hover triggers a temp flip
      wrapper.addEventListener('mouseenter', () => {
        if (!logoContainer.classList.contains('logo-flip')) tempFlip();
      });

      // Click: persistent flip then navigate
      wrapper.addEventListener('click', (ev) => {
        const target = wrapper.getAttribute('data-target');
        if (target) {
          ev.preventDefault();
          persistentFlipAndNavigate(target);
        }
      });

      // On load: no persistent flip
    }
    
    document.addEventListener('DOMContentLoaded', function() {
      // Initialize logo flip animation
      initLogoFlip();
      
      // Ensure about button is visible and functional
      const aboutBtn = document.querySelector('.about');
      if (aboutBtn && !aboutBtn.textContent.trim()) {
        aboutBtn.textContent = 'ⓘ';
      }
      
      // Force about modal initialization for timeline page
      setTimeout(() => {
        const aboutElement = document.querySelector('a[href="#about"], .about');
        if (aboutElement && !aboutElement.hasAttribute('data-about-initialized')) {
          aboutElement.setAttribute('data-about-initialized', 'true');
          aboutElement.addEventListener('click', function(e) {
            e.preventDefault();
            e.stopPropagation();
            const modal = document.getElementById('about-modal');
            if (modal) {
              modal.style.display = 'block';
              document.body.style.overflow = 'hidden';
            }
          });
        }
        
        // Initialize close button
        const closeBtn = document.getElementById('about-modal-close');
        if (closeBtn && !closeBtn.hasAttribute('data-close-initialized')) {
          closeBtn.setAttribute('data-close-initialized', 'true');
          closeBtn.addEventListener('click', function() {
            const modal = document.getElementById('about-modal');
            if (modal) {
              modal.style.display = 'none';
              document.body.style.overflow = '';
            }
          });
        }
        
        // Initialize window click to close
        window.addEventListener('click', function(event) {
          const modal = document.getElementById('about-modal');
          if (event.target === modal) {
            modal.style.display = 'none';
            document.body.style.overflow = '';
          }
        });
      }, 100);
    });
  </script>
  <script src="spaces.js"></script>
  <script src="timeline-gallery.js"></script>
</body>
</html>
